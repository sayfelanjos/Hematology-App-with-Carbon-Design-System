{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { defineProperty as _defineProperty, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React__default, { Component } from 'react';\nimport cx from 'classnames';\nimport ClickListener from '../../internal/ClickListener.js';\nimport FloatingMenu, { DIRECTION_TOP, DIRECTION_BOTTOM } from '../../internal/FloatingMenu.js';\nimport { OverflowMenuVertical } from '@carbon/icons-react';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport { PrefixContext } from '../../internal/usePrefix.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { IconButton } from '../IconButton/index.js';\nimport setupGetInstanceId from '../../tools/setupGetInstanceId.js';\nimport { matches } from '../../internal/keyboard/match.js';\nimport { ArrowUp, ArrowRight, ArrowDown, ArrowLeft, Escape } from '../../internal/keyboard/keys.js';\nconst getInstanceId = setupGetInstanceId();\nconst on = function (element) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  element.addEventListener(...args);\n  return {\n    release() {\n      element.removeEventListener(...args);\n      return null;\n    }\n  };\n};\n\n/**\n * The CSS property names of the arrow keyed by the floating menu direction.\n * @type {[key: string]: string}\n */\nconst triggerButtonPositionProps = {\n  [DIRECTION_TOP]: 'bottom',\n  [DIRECTION_BOTTOM]: 'top'\n};\n\n/**\n * Determines how the position of arrow should affect the floating menu position.\n * @type {[key: string]: number}\n */\nconst triggerButtonPositionFactors = {\n  [DIRECTION_TOP]: -2,\n  [DIRECTION_BOTTOM]: -1\n};\n\n/**\n * @param {Element} menuBody The menu body with the menu arrow.\n * @param {string} direction The floating menu direction.\n * @returns {FloatingMenu~offset} The adjustment of the floating menu position, upon the position of the menu arrow.\n * @private\n */\nconst getMenuOffset = (menuBody, direction, trigger, flip) => {\n  const triggerButtonPositionProp = triggerButtonPositionProps[direction];\n  const triggerButtonPositionFactor = triggerButtonPositionFactors[direction];\n  if (process.env.NODE_ENV !== \"production\") {\n    !(triggerButtonPositionProp && triggerButtonPositionFactor) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[OverflowMenu] wrong floating menu direction: `%s`', direction) : invariant(false) : void 0;\n  }\n  const {\n    offsetWidth: menuWidth,\n    offsetHeight: menuHeight\n  } = menuBody;\n  switch (triggerButtonPositionProp) {\n    case 'top':\n    case 'bottom':\n      {\n        // TODO: Ensure `trigger` is there for `<OverflowMenu open>`\n        const triggerWidth = !trigger ? 0 : trigger.offsetWidth;\n        return {\n          left: (!flip ? 1 : -1) * (menuWidth / 2 - triggerWidth / 2),\n          top: 0\n        };\n      }\n    case 'left':\n    case 'right':\n      {\n        // TODO: Ensure `trigger` is there for `<OverflowMenu open>`\n        const triggerHeight = !trigger ? 0 : trigger.offsetHeight;\n        return {\n          left: 0,\n          top: (!flip ? 1 : -1) * (menuHeight / 2 - triggerHeight / 2)\n        };\n      }\n  }\n};\nclass OverflowMenu extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {});\n    _defineProperty(this, \"instanceId\", getInstanceId());\n    /**\n     * The handle of `onfocusin` or `focus` event handler.\n     * @private\n     */\n    _defineProperty(this, \"_hFocusIn\", null);\n    /**\n     * The timeout handle for handling `blur` event.\n     * @private\n     */\n    _defineProperty(this, \"_hBlurTimeout\", void 0);\n    /**\n     * The element ref of the tooltip's trigger button.\n     * @type {React.RefObject<Element>}\n     * @private\n     */\n    _defineProperty(this, \"_triggerRef\", /*#__PURE__*/React__default.createRef());\n    _defineProperty(this, \"handleClick\", evt => {\n      evt.stopPropagation();\n      if (!this._menuBody || !this._menuBody.contains(evt.target)) {\n        this.setState({\n          open: !this.state.open\n        });\n        this.props.onClick(evt);\n      }\n    });\n    _defineProperty(this, \"closeMenuAndFocus\", () => {\n      let wasOpen = this.state.open;\n      this.closeMenu(() => {\n        if (wasOpen) {\n          this.focusMenuEl();\n        }\n      });\n    });\n    _defineProperty(this, \"handleKeyPress\", evt => {\n      if (this.state.open && matches(evt, [ArrowUp, ArrowRight, ArrowDown, ArrowLeft])) {\n        evt.preventDefault();\n      }\n\n      // Close the overflow menu on escape\n      if (matches(evt, [Escape])) {\n        this.closeMenuAndFocus();\n\n        // Stop the esc keypress from bubbling out and closing something it shouldn't\n        evt.stopPropagation();\n      }\n    });\n    _defineProperty(this, \"handleClickOutside\", evt => {\n      if (this.state.open && (!this._menuBody || !this._menuBody.contains(evt.target))) {\n        this.closeMenu();\n      }\n    });\n    _defineProperty(this, \"closeMenu\", onCloseMenu => {\n      this.setState({\n        open: false\n      }, () => {\n        // Optional callback to be executed after the state as been set to close\n        if (onCloseMenu) {\n          onCloseMenu();\n        }\n        this.props.onClose();\n      });\n    });\n    _defineProperty(this, \"focusMenuEl\", () => {\n      const {\n        current: triggerEl\n      } = this._triggerRef;\n      if (triggerEl) {\n        triggerEl.focus();\n      }\n    });\n    /**\n     * Focuses the next enabled overflow menu item given the currently focused\n     * item index and direction to move\n     * @param {object} params\n     * @param {number} params.currentIndex - the index of the currently focused\n     * overflow menu item in the list of overflow menu items\n     * @param {number} params.direction - number denoting the direction to move\n     * focus (1 for forwards, -1 for backwards)\n     */\n    _defineProperty(this, \"handleOverflowMenuItemFocus\", _ref => {\n      let {\n        currentIndex,\n        direction\n      } = _ref;\n      const enabledIndices = React__default.Children.toArray(this.props.children).reduce((acc, curr, i) => {\n        if (!curr.props.disabled) {\n          acc.push(i);\n        }\n        return acc;\n      }, []);\n      const nextValidIndex = (() => {\n        const nextIndex = enabledIndices.indexOf(currentIndex) + direction;\n        switch (nextIndex) {\n          case -1:\n            return enabledIndices.length - 1;\n          case enabledIndices.length:\n            return 0;\n          default:\n            return nextIndex;\n        }\n      })();\n      const overflowMenuItem = this[`overflowMenuItem${enabledIndices[nextValidIndex]}`];\n      overflowMenuItem?.focus();\n    });\n    /**\n     * Handles the floating menu being unmounted or non-floating menu being\n     * mounted or unmounted.\n     * @param {Element} menuBody The DOM element of the menu body.\n     * @private\n     */\n    _defineProperty(this, \"_bindMenuBody\", menuBody => {\n      if (!menuBody) {\n        this._menuBody = menuBody;\n      }\n      if (!menuBody && this._hFocusIn) {\n        this._hFocusIn = this._hFocusIn.release();\n      }\n    });\n    /**\n     * Handles the floating menu being placed.\n     * @param {Element} menuBody The DOM element of the menu body.\n     * @private\n     */\n    _defineProperty(this, \"_handlePlace\", menuBody => {\n      if (menuBody) {\n        this._menuBody = menuBody;\n        const hasFocusin = ('onfocusin' in window);\n        const focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        this._hFocusIn = on(menuBody.ownerDocument, focusinEventName, event => {\n          const target = ClickListener.getEventTarget(event);\n          const {\n            current: triggerEl\n          } = this._triggerRef;\n          if (typeof target.matches === 'function') {\n            if (!menuBody.contains(target) && triggerEl && !target.matches(`.${this.context}--overflow-menu,.${this.context}--overflow-menu-options`)) {\n              this.closeMenuAndFocus();\n            }\n          }\n        }, !hasFocusin);\n        this.props.onOpen();\n      }\n    });\n    /**\n     * @returns {Element} The DOM element where the floating menu is placed in.\n     */\n    _defineProperty(this, \"_getTarget\", () => {\n      const {\n        current: triggerEl\n      } = this._triggerRef;\n      return triggerEl && triggerEl.closest('[data-floating-menu-container]') || document.body;\n    });\n  }\n  componentDidUpdate(_, prevState) {\n    const {\n      onClose\n    } = this.props;\n    if (!this.state.open && prevState.open) {\n      onClose();\n    }\n  }\n  componentDidMount() {\n    // ensure that if open=true on first render, we wait\n    // to render the floating menu until the trigger ref is not null\n    if (this._triggerRef.current) {\n      this.setState({\n        hasMountedTrigger: true\n      });\n    }\n  }\n  static getDerivedStateFromProps(_ref2, state) {\n    let {\n      open\n    } = _ref2;\n    const {\n      prevOpen\n    } = state;\n    return prevOpen === open ? null : {\n      open,\n      prevOpen: open\n    };\n  }\n  componentWillUnmount() {\n    if (typeof this._hBlurTimeout === 'number') {\n      clearTimeout(this._hBlurTimeout);\n      this._hBlurTimeout = undefined;\n    }\n  }\n  render() {\n    const prefix = this.context;\n    const {\n      id,\n      ['aria-label']: ariaLabel,\n      ariaLabel: deprecatedAriaLabel,\n      children,\n      iconDescription,\n      direction,\n      flipped,\n      focusTrap,\n      menuOffset,\n      menuOffsetFlip,\n      iconClass,\n      onClick,\n      // eslint-disable-line\n      onOpen,\n      // eslint-disable-line\n      selectorPrimaryFocus = '[data-floating-menu-primary-focus]',\n      // eslint-disable-line\n      renderIcon: IconElement,\n      // eslint-disable-next-line react/prop-types\n      innerRef: ref,\n      menuOptionsClass,\n      light,\n      size = 'md',\n      ...other\n    } = this.props;\n    const {\n      open\n    } = this.state;\n    const overflowMenuClasses = cx(this.props.className, `${prefix}--overflow-menu`, {\n      [`${prefix}--overflow-menu--open`]: open,\n      [`${prefix}--overflow-menu--light`]: light,\n      [`${prefix}--overflow-menu--${size}`]: size\n    });\n    const overflowMenuOptionsClasses = cx(menuOptionsClass, `${prefix}--overflow-menu-options`, {\n      [`${prefix}--overflow-menu--flip`]: this.props.flipped,\n      [`${prefix}--overflow-menu-options--open`]: open,\n      [`${prefix}--overflow-menu-options--light`]: light,\n      [`${prefix}--overflow-menu-options--${size}`]: size\n    });\n    const overflowMenuIconClasses = cx(`${prefix}--overflow-menu__icon`, iconClass);\n    const childrenWithProps = React__default.Children.toArray(children).map((child, index) => /*#__PURE__*/React__default.cloneElement(child, {\n      closeMenu: child?.props?.closeMenu || this.closeMenuAndFocus,\n      handleOverflowMenuItemFocus: this.handleOverflowMenuItemFocus,\n      ref: e => {\n        this[`overflowMenuItem${index}`] = e;\n      },\n      index\n    }));\n    const menuBodyId = `overflow-menu-${this.instanceId}__menu-body`;\n    const menuBody = /*#__PURE__*/React__default.createElement(\"ul\", {\n      className: overflowMenuOptionsClasses,\n      tabIndex: \"-1\",\n      role: \"menu\",\n      \"aria-label\": ariaLabel || deprecatedAriaLabel,\n      onKeyDown: this.handleKeyPress,\n      id: menuBodyId\n    }, childrenWithProps);\n    const wrappedMenuBody = /*#__PURE__*/React__default.createElement(FloatingMenu, {\n      focusTrap: focusTrap,\n      triggerRef: this._triggerRef,\n      menuDirection: direction,\n      menuOffset: flipped ? menuOffsetFlip : menuOffset,\n      menuRef: this._bindMenuBody,\n      flipped: this.props.flipped,\n      target: this._getTarget,\n      onPlace: this._handlePlace,\n      selectorPrimaryFocus: this.props.selectorPrimaryFocus\n    }, /*#__PURE__*/React__default.cloneElement(menuBody, {\n      'data-floating-menu-direction': direction\n    }));\n    const iconProps = {\n      className: overflowMenuIconClasses,\n      'aria-label': iconDescription\n    };\n    return /*#__PURE__*/React__default.createElement(ClickListener, {\n      onClickOutside: this.handleClickOutside\n    }, /*#__PURE__*/React__default.createElement(\"span\", {\n      className: `${prefix}--overflow-menu__wrapper`,\n      \"aria-owns\": open ? menuBodyId : null\n    }, /*#__PURE__*/React__default.createElement(IconButton, _extends({}, other, {\n      type: \"button\",\n      \"aria-haspopup\": true,\n      \"aria-expanded\": this.state.open,\n      \"aria-controls\": open ? menuBodyId : null,\n      className: overflowMenuClasses,\n      onClick: this.handleClick,\n      id: id,\n      ref: mergeRefs(this._triggerRef, ref),\n      size: size,\n      label: iconDescription\n    }), /*#__PURE__*/React__default.createElement(IconElement, iconProps)), open && this.state.hasMountedTrigger && wrappedMenuBody));\n  }\n}\n_defineProperty(OverflowMenu, \"propTypes\", {\n  /**\n   * Specify a label to be read by screen readers on the container node\n   */\n  ['aria-label']: PropTypes.string,\n  /**\n   * Deprecated, please use `aria-label` instead.\n   * Specify a label to be read by screen readers on the container note.\n   */\n  ariaLabel: deprecate(PropTypes.string, 'This prop syntax has been deprecated. Please use the new `aria-label`.'),\n  /**\n   * The child nodes.\n   */\n  children: PropTypes.node,\n  /**\n   * The CSS class names.\n   */\n  className: PropTypes.string,\n  /**\n   * The menu direction.\n   */\n  direction: PropTypes.oneOf([DIRECTION_TOP, DIRECTION_BOTTOM]),\n  /**\n   * `true` if the menu alignment should be flipped.\n   */\n  flipped: PropTypes.bool,\n  /**\n   * Enable or disable focus trap behavior\n   */\n  focusTrap: PropTypes.bool,\n  /**\n   * The CSS class for the icon.\n   */\n  iconClass: PropTypes.string,\n  /**\n   * The icon description.\n   */\n  iconDescription: PropTypes.string.isRequired,\n  /**\n   * The element ID.\n   */\n  id: PropTypes.string,\n  /**\n   * `true` to use the light version. For use on $ui-01 backgrounds only.\n   * Don't use this to make OverflowMenu background color same as container background color.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `OverflowMenu` is no longer needed and has been deprecated. It will be removed in the next major release. Use the Layer component instead.'),\n  /**\n   * The adjustment in position applied to the floating menu.\n   */\n  menuOffset: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n  /**\n   * The adjustment in position applied to the floating menu.\n   */\n  menuOffsetFlip: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n  /**\n   * The class to apply to the menu options\n   */\n  menuOptionsClass: PropTypes.string,\n  /**\n   * The event handler for the `click` event.\n   */\n  onClick: PropTypes.func,\n  /**\n   * Function called when menu is closed\n   */\n  onClose: PropTypes.func,\n  /**\n   * The event handler for the `focus` event.\n   */\n  onFocus: PropTypes.func,\n  /**\n   * The event handler for the `keydown` event.\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * Function called when menu is opened\n   */\n  onOpen: PropTypes.func,\n  /**\n   * `true` if the menu should be open.\n   */\n  open: PropTypes.bool,\n  /**\n   * Function called to override icon rendering.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * Specify a CSS selector that matches the DOM element that should\n   * be focused when the OverflowMenu opens\n   */\n  selectorPrimaryFocus: PropTypes.string,\n  /**\n   * Specify the size of the OverflowMenu. Currently supports either `sm`, 'md' (default) or 'lg` as an option.\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg'])\n});\n_defineProperty(OverflowMenu, \"contextType\", PrefixContext);\n_defineProperty(OverflowMenu, \"defaultProps\", {\n  ['aria-label']: null,\n  iconDescription: 'Options',\n  open: false,\n  direction: DIRECTION_BOTTOM,\n  flipped: false,\n  focusTrap: true,\n  renderIcon: OverflowMenuVertical,\n  onClick: () => {},\n  onKeyDown: () => {},\n  onClose: () => {},\n  onOpen: () => {},\n  menuOffset: getMenuOffset,\n  menuOffsetFlip: getMenuOffset,\n  selectorPrimaryFocus: '[data-overflow-menu-primary-focus]'\n});\n(() => {\n  const forwardRef = (props, ref) => /*#__PURE__*/React__default.createElement(OverflowMenu, _extends({}, props, {\n    innerRef: ref\n  }));\n  forwardRef.displayName = 'OverflowMenu';\n  return /*#__PURE__*/React__default.forwardRef(forwardRef);\n})();\nexport { OverflowMenu, getMenuOffset };","map":{"version":3,"names":["defineProperty","_defineProperty","extends","_extends","invariant","PropTypes","React__default","Component","cx","ClickListener","FloatingMenu","DIRECTION_TOP","DIRECTION_BOTTOM","OverflowMenuVertical","mergeRefs","PrefixContext","deprecate","IconButton","setupGetInstanceId","matches","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Escape","getInstanceId","on","element","_len","arguments","length","args","Array","_key","addEventListener","release","removeEventListener","triggerButtonPositionProps","triggerButtonPositionFactors","getMenuOffset","menuBody","direction","trigger","flip","triggerButtonPositionProp","triggerButtonPositionFactor","process","env","NODE_ENV","offsetWidth","menuWidth","offsetHeight","menuHeight","triggerWidth","left","top","triggerHeight","OverflowMenu","constructor","createRef","evt","stopPropagation","_menuBody","contains","target","setState","open","state","props","onClick","wasOpen","closeMenu","focusMenuEl","preventDefault","closeMenuAndFocus","onCloseMenu","onClose","current","triggerEl","_triggerRef","focus","_ref","currentIndex","enabledIndices","Children","toArray","children","reduce","acc","curr","i","disabled","push","nextValidIndex","nextIndex","indexOf","overflowMenuItem","_hFocusIn","hasFocusin","window","focusinEventName","ownerDocument","event","getEventTarget","context","onOpen","closest","document","body","componentDidUpdate","_","prevState","componentDidMount","hasMountedTrigger","getDerivedStateFromProps","_ref2","prevOpen","componentWillUnmount","_hBlurTimeout","clearTimeout","undefined","render","prefix","id","ariaLabel","deprecatedAriaLabel","iconDescription","flipped","focusTrap","menuOffset","menuOffsetFlip","iconClass","selectorPrimaryFocus","renderIcon","IconElement","innerRef","ref","menuOptionsClass","light","size","other","overflowMenuClasses","className","overflowMenuOptionsClasses","overflowMenuIconClasses","childrenWithProps","map","child","index","cloneElement","handleOverflowMenuItemFocus","e","menuBodyId","instanceId","createElement","tabIndex","role","onKeyDown","handleKeyPress","wrappedMenuBody","triggerRef","menuDirection","menuRef","_bindMenuBody","_getTarget","onPlace","_handlePlace","iconProps","onClickOutside","handleClickOutside","type","handleClick","label","string","node","oneOf","bool","isRequired","oneOfType","shape","number","func","onFocus","object","forwardRef","displayName"],"sources":["/home/saymon/Backup/Portifolio/Hematology-App-with-Carbon-Design-System/frontend/node_modules/@carbon/react/es/components/OverflowMenu/OverflowMenu.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { defineProperty as _defineProperty, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React__default, { Component } from 'react';\nimport cx from 'classnames';\nimport ClickListener from '../../internal/ClickListener.js';\nimport FloatingMenu, { DIRECTION_TOP, DIRECTION_BOTTOM } from '../../internal/FloatingMenu.js';\nimport { OverflowMenuVertical } from '@carbon/icons-react';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport { PrefixContext } from '../../internal/usePrefix.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { IconButton } from '../IconButton/index.js';\nimport setupGetInstanceId from '../../tools/setupGetInstanceId.js';\nimport { matches } from '../../internal/keyboard/match.js';\nimport { ArrowUp, ArrowRight, ArrowDown, ArrowLeft, Escape } from '../../internal/keyboard/keys.js';\n\nconst getInstanceId = setupGetInstanceId();\nconst on = function (element) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  element.addEventListener(...args);\n  return {\n    release() {\n      element.removeEventListener(...args);\n      return null;\n    }\n  };\n};\n\n/**\n * The CSS property names of the arrow keyed by the floating menu direction.\n * @type {[key: string]: string}\n */\nconst triggerButtonPositionProps = {\n  [DIRECTION_TOP]: 'bottom',\n  [DIRECTION_BOTTOM]: 'top'\n};\n\n/**\n * Determines how the position of arrow should affect the floating menu position.\n * @type {[key: string]: number}\n */\nconst triggerButtonPositionFactors = {\n  [DIRECTION_TOP]: -2,\n  [DIRECTION_BOTTOM]: -1\n};\n\n/**\n * @param {Element} menuBody The menu body with the menu arrow.\n * @param {string} direction The floating menu direction.\n * @returns {FloatingMenu~offset} The adjustment of the floating menu position, upon the position of the menu arrow.\n * @private\n */\nconst getMenuOffset = (menuBody, direction, trigger, flip) => {\n  const triggerButtonPositionProp = triggerButtonPositionProps[direction];\n  const triggerButtonPositionFactor = triggerButtonPositionFactors[direction];\n  if (process.env.NODE_ENV !== \"production\") {\n    !(triggerButtonPositionProp && triggerButtonPositionFactor) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '[OverflowMenu] wrong floating menu direction: `%s`', direction) : invariant(false) : void 0;\n  }\n  const {\n    offsetWidth: menuWidth,\n    offsetHeight: menuHeight\n  } = menuBody;\n  switch (triggerButtonPositionProp) {\n    case 'top':\n    case 'bottom':\n      {\n        // TODO: Ensure `trigger` is there for `<OverflowMenu open>`\n        const triggerWidth = !trigger ? 0 : trigger.offsetWidth;\n        return {\n          left: (!flip ? 1 : -1) * (menuWidth / 2 - triggerWidth / 2),\n          top: 0\n        };\n      }\n    case 'left':\n    case 'right':\n      {\n        // TODO: Ensure `trigger` is there for `<OverflowMenu open>`\n        const triggerHeight = !trigger ? 0 : trigger.offsetHeight;\n        return {\n          left: 0,\n          top: (!flip ? 1 : -1) * (menuHeight / 2 - triggerHeight / 2)\n        };\n      }\n  }\n};\nclass OverflowMenu extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {});\n    _defineProperty(this, \"instanceId\", getInstanceId());\n    /**\n     * The handle of `onfocusin` or `focus` event handler.\n     * @private\n     */\n    _defineProperty(this, \"_hFocusIn\", null);\n    /**\n     * The timeout handle for handling `blur` event.\n     * @private\n     */\n    _defineProperty(this, \"_hBlurTimeout\", void 0);\n    /**\n     * The element ref of the tooltip's trigger button.\n     * @type {React.RefObject<Element>}\n     * @private\n     */\n    _defineProperty(this, \"_triggerRef\", /*#__PURE__*/React__default.createRef());\n    _defineProperty(this, \"handleClick\", evt => {\n      evt.stopPropagation();\n      if (!this._menuBody || !this._menuBody.contains(evt.target)) {\n        this.setState({\n          open: !this.state.open\n        });\n        this.props.onClick(evt);\n      }\n    });\n    _defineProperty(this, \"closeMenuAndFocus\", () => {\n      let wasOpen = this.state.open;\n      this.closeMenu(() => {\n        if (wasOpen) {\n          this.focusMenuEl();\n        }\n      });\n    });\n    _defineProperty(this, \"handleKeyPress\", evt => {\n      if (this.state.open && matches(evt, [ArrowUp, ArrowRight, ArrowDown, ArrowLeft])) {\n        evt.preventDefault();\n      }\n\n      // Close the overflow menu on escape\n      if (matches(evt, [Escape])) {\n        this.closeMenuAndFocus();\n\n        // Stop the esc keypress from bubbling out and closing something it shouldn't\n        evt.stopPropagation();\n      }\n    });\n    _defineProperty(this, \"handleClickOutside\", evt => {\n      if (this.state.open && (!this._menuBody || !this._menuBody.contains(evt.target))) {\n        this.closeMenu();\n      }\n    });\n    _defineProperty(this, \"closeMenu\", onCloseMenu => {\n      this.setState({\n        open: false\n      }, () => {\n        // Optional callback to be executed after the state as been set to close\n        if (onCloseMenu) {\n          onCloseMenu();\n        }\n        this.props.onClose();\n      });\n    });\n    _defineProperty(this, \"focusMenuEl\", () => {\n      const {\n        current: triggerEl\n      } = this._triggerRef;\n      if (triggerEl) {\n        triggerEl.focus();\n      }\n    });\n    /**\n     * Focuses the next enabled overflow menu item given the currently focused\n     * item index and direction to move\n     * @param {object} params\n     * @param {number} params.currentIndex - the index of the currently focused\n     * overflow menu item in the list of overflow menu items\n     * @param {number} params.direction - number denoting the direction to move\n     * focus (1 for forwards, -1 for backwards)\n     */\n    _defineProperty(this, \"handleOverflowMenuItemFocus\", _ref => {\n      let {\n        currentIndex,\n        direction\n      } = _ref;\n      const enabledIndices = React__default.Children.toArray(this.props.children).reduce((acc, curr, i) => {\n        if (!curr.props.disabled) {\n          acc.push(i);\n        }\n        return acc;\n      }, []);\n      const nextValidIndex = (() => {\n        const nextIndex = enabledIndices.indexOf(currentIndex) + direction;\n        switch (nextIndex) {\n          case -1:\n            return enabledIndices.length - 1;\n          case enabledIndices.length:\n            return 0;\n          default:\n            return nextIndex;\n        }\n      })();\n      const overflowMenuItem = this[`overflowMenuItem${enabledIndices[nextValidIndex]}`];\n      overflowMenuItem?.focus();\n    });\n    /**\n     * Handles the floating menu being unmounted or non-floating menu being\n     * mounted or unmounted.\n     * @param {Element} menuBody The DOM element of the menu body.\n     * @private\n     */\n    _defineProperty(this, \"_bindMenuBody\", menuBody => {\n      if (!menuBody) {\n        this._menuBody = menuBody;\n      }\n      if (!menuBody && this._hFocusIn) {\n        this._hFocusIn = this._hFocusIn.release();\n      }\n    });\n    /**\n     * Handles the floating menu being placed.\n     * @param {Element} menuBody The DOM element of the menu body.\n     * @private\n     */\n    _defineProperty(this, \"_handlePlace\", menuBody => {\n      if (menuBody) {\n        this._menuBody = menuBody;\n        const hasFocusin = ('onfocusin' in window);\n        const focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        this._hFocusIn = on(menuBody.ownerDocument, focusinEventName, event => {\n          const target = ClickListener.getEventTarget(event);\n          const {\n            current: triggerEl\n          } = this._triggerRef;\n          if (typeof target.matches === 'function') {\n            if (!menuBody.contains(target) && triggerEl && !target.matches(`.${this.context}--overflow-menu,.${this.context}--overflow-menu-options`)) {\n              this.closeMenuAndFocus();\n            }\n          }\n        }, !hasFocusin);\n        this.props.onOpen();\n      }\n    });\n    /**\n     * @returns {Element} The DOM element where the floating menu is placed in.\n     */\n    _defineProperty(this, \"_getTarget\", () => {\n      const {\n        current: triggerEl\n      } = this._triggerRef;\n      return triggerEl && triggerEl.closest('[data-floating-menu-container]') || document.body;\n    });\n  }\n  componentDidUpdate(_, prevState) {\n    const {\n      onClose\n    } = this.props;\n    if (!this.state.open && prevState.open) {\n      onClose();\n    }\n  }\n  componentDidMount() {\n    // ensure that if open=true on first render, we wait\n    // to render the floating menu until the trigger ref is not null\n    if (this._triggerRef.current) {\n      this.setState({\n        hasMountedTrigger: true\n      });\n    }\n  }\n  static getDerivedStateFromProps(_ref2, state) {\n    let {\n      open\n    } = _ref2;\n    const {\n      prevOpen\n    } = state;\n    return prevOpen === open ? null : {\n      open,\n      prevOpen: open\n    };\n  }\n  componentWillUnmount() {\n    if (typeof this._hBlurTimeout === 'number') {\n      clearTimeout(this._hBlurTimeout);\n      this._hBlurTimeout = undefined;\n    }\n  }\n  render() {\n    const prefix = this.context;\n    const {\n      id,\n      ['aria-label']: ariaLabel,\n      ariaLabel: deprecatedAriaLabel,\n      children,\n      iconDescription,\n      direction,\n      flipped,\n      focusTrap,\n      menuOffset,\n      menuOffsetFlip,\n      iconClass,\n      onClick,\n      // eslint-disable-line\n      onOpen,\n      // eslint-disable-line\n      selectorPrimaryFocus = '[data-floating-menu-primary-focus]',\n      // eslint-disable-line\n      renderIcon: IconElement,\n      // eslint-disable-next-line react/prop-types\n      innerRef: ref,\n      menuOptionsClass,\n      light,\n      size = 'md',\n      ...other\n    } = this.props;\n    const {\n      open\n    } = this.state;\n    const overflowMenuClasses = cx(this.props.className, `${prefix}--overflow-menu`, {\n      [`${prefix}--overflow-menu--open`]: open,\n      [`${prefix}--overflow-menu--light`]: light,\n      [`${prefix}--overflow-menu--${size}`]: size\n    });\n    const overflowMenuOptionsClasses = cx(menuOptionsClass, `${prefix}--overflow-menu-options`, {\n      [`${prefix}--overflow-menu--flip`]: this.props.flipped,\n      [`${prefix}--overflow-menu-options--open`]: open,\n      [`${prefix}--overflow-menu-options--light`]: light,\n      [`${prefix}--overflow-menu-options--${size}`]: size\n    });\n    const overflowMenuIconClasses = cx(`${prefix}--overflow-menu__icon`, iconClass);\n    const childrenWithProps = React__default.Children.toArray(children).map((child, index) => /*#__PURE__*/React__default.cloneElement(child, {\n      closeMenu: child?.props?.closeMenu || this.closeMenuAndFocus,\n      handleOverflowMenuItemFocus: this.handleOverflowMenuItemFocus,\n      ref: e => {\n        this[`overflowMenuItem${index}`] = e;\n      },\n      index\n    }));\n    const menuBodyId = `overflow-menu-${this.instanceId}__menu-body`;\n    const menuBody = /*#__PURE__*/React__default.createElement(\"ul\", {\n      className: overflowMenuOptionsClasses,\n      tabIndex: \"-1\",\n      role: \"menu\",\n      \"aria-label\": ariaLabel || deprecatedAriaLabel,\n      onKeyDown: this.handleKeyPress,\n      id: menuBodyId\n    }, childrenWithProps);\n    const wrappedMenuBody = /*#__PURE__*/React__default.createElement(FloatingMenu, {\n      focusTrap: focusTrap,\n      triggerRef: this._triggerRef,\n      menuDirection: direction,\n      menuOffset: flipped ? menuOffsetFlip : menuOffset,\n      menuRef: this._bindMenuBody,\n      flipped: this.props.flipped,\n      target: this._getTarget,\n      onPlace: this._handlePlace,\n      selectorPrimaryFocus: this.props.selectorPrimaryFocus\n    }, /*#__PURE__*/React__default.cloneElement(menuBody, {\n      'data-floating-menu-direction': direction\n    }));\n    const iconProps = {\n      className: overflowMenuIconClasses,\n      'aria-label': iconDescription\n    };\n    return /*#__PURE__*/React__default.createElement(ClickListener, {\n      onClickOutside: this.handleClickOutside\n    }, /*#__PURE__*/React__default.createElement(\"span\", {\n      className: `${prefix}--overflow-menu__wrapper`,\n      \"aria-owns\": open ? menuBodyId : null\n    }, /*#__PURE__*/React__default.createElement(IconButton, _extends({}, other, {\n      type: \"button\",\n      \"aria-haspopup\": true,\n      \"aria-expanded\": this.state.open,\n      \"aria-controls\": open ? menuBodyId : null,\n      className: overflowMenuClasses,\n      onClick: this.handleClick,\n      id: id,\n      ref: mergeRefs(this._triggerRef, ref),\n      size: size,\n      label: iconDescription\n    }), /*#__PURE__*/React__default.createElement(IconElement, iconProps)), open && this.state.hasMountedTrigger && wrappedMenuBody));\n  }\n}\n_defineProperty(OverflowMenu, \"propTypes\", {\n  /**\n   * Specify a label to be read by screen readers on the container node\n   */\n  ['aria-label']: PropTypes.string,\n  /**\n   * Deprecated, please use `aria-label` instead.\n   * Specify a label to be read by screen readers on the container note.\n   */\n  ariaLabel: deprecate(PropTypes.string, 'This prop syntax has been deprecated. Please use the new `aria-label`.'),\n  /**\n   * The child nodes.\n   */\n  children: PropTypes.node,\n  /**\n   * The CSS class names.\n   */\n  className: PropTypes.string,\n  /**\n   * The menu direction.\n   */\n  direction: PropTypes.oneOf([DIRECTION_TOP, DIRECTION_BOTTOM]),\n  /**\n   * `true` if the menu alignment should be flipped.\n   */\n  flipped: PropTypes.bool,\n  /**\n   * Enable or disable focus trap behavior\n   */\n  focusTrap: PropTypes.bool,\n  /**\n   * The CSS class for the icon.\n   */\n  iconClass: PropTypes.string,\n  /**\n   * The icon description.\n   */\n  iconDescription: PropTypes.string.isRequired,\n  /**\n   * The element ID.\n   */\n  id: PropTypes.string,\n  /**\n   * `true` to use the light version. For use on $ui-01 backgrounds only.\n   * Don't use this to make OverflowMenu background color same as container background color.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `OverflowMenu` is no longer needed and has been deprecated. It will be removed in the next major release. Use the Layer component instead.'),\n  /**\n   * The adjustment in position applied to the floating menu.\n   */\n  menuOffset: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n  /**\n   * The adjustment in position applied to the floating menu.\n   */\n  menuOffsetFlip: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n  /**\n   * The class to apply to the menu options\n   */\n  menuOptionsClass: PropTypes.string,\n  /**\n   * The event handler for the `click` event.\n   */\n  onClick: PropTypes.func,\n  /**\n   * Function called when menu is closed\n   */\n  onClose: PropTypes.func,\n  /**\n   * The event handler for the `focus` event.\n   */\n  onFocus: PropTypes.func,\n  /**\n   * The event handler for the `keydown` event.\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * Function called when menu is opened\n   */\n  onOpen: PropTypes.func,\n  /**\n   * `true` if the menu should be open.\n   */\n  open: PropTypes.bool,\n  /**\n   * Function called to override icon rendering.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * Specify a CSS selector that matches the DOM element that should\n   * be focused when the OverflowMenu opens\n   */\n  selectorPrimaryFocus: PropTypes.string,\n  /**\n   * Specify the size of the OverflowMenu. Currently supports either `sm`, 'md' (default) or 'lg` as an option.\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg'])\n});\n_defineProperty(OverflowMenu, \"contextType\", PrefixContext);\n_defineProperty(OverflowMenu, \"defaultProps\", {\n  ['aria-label']: null,\n  iconDescription: 'Options',\n  open: false,\n  direction: DIRECTION_BOTTOM,\n  flipped: false,\n  focusTrap: true,\n  renderIcon: OverflowMenuVertical,\n  onClick: () => {},\n  onKeyDown: () => {},\n  onClose: () => {},\n  onOpen: () => {},\n  menuOffset: getMenuOffset,\n  menuOffsetFlip: getMenuOffset,\n  selectorPrimaryFocus: '[data-overflow-menu-primary-focus]'\n});\n(() => {\n  const forwardRef = (props, ref) => /*#__PURE__*/React__default.createElement(OverflowMenu, _extends({}, props, {\n    innerRef: ref\n  }));\n  forwardRef.displayName = 'OverflowMenu';\n  return /*#__PURE__*/React__default.forwardRef(forwardRef);\n})();\n\nexport { OverflowMenu, getMenuOffset };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}