{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React__default, { useRef, useContext, useReducer, useMemo, useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { MenuContext, menuReducer } from './MenuContext.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { Escape, ArrowLeft, ArrowUp, ArrowDown } from '../../internal/keyboard/keys.js';\nconst spacing = 8; // distance to keep to window edges, in px\n\nconst Menu = /*#__PURE__*/React__default.forwardRef(function Menu(_ref, forwardRef) {\n  let {\n    children,\n    className,\n    label,\n    onClose,\n    onOpen,\n    open,\n    size = 'sm',\n    target = document.body,\n    x = 0,\n    y = 0,\n    ...rest\n  } = _ref;\n  const prefix = usePrefix();\n  const focusReturn = useRef(null);\n  const context = useContext(MenuContext);\n  const isRoot = context.state.isRoot;\n  const menuSize = isRoot ? size : context.state.size;\n  const [childState, childDispatch] = useReducer(menuReducer, {\n    ...context.state,\n    isRoot: false,\n    size,\n    requestCloseRoot: isRoot ? handleClose : context.state.requestCloseRoot\n  });\n  const childContext = useMemo(() => {\n    return {\n      state: childState,\n      dispatch: childDispatch\n    };\n  }, [childState, childDispatch]);\n  const menu = useRef();\n  const ref = useMergedRefs([forwardRef, menu]);\n  const [position, setPosition] = useState([-1, -1]);\n  const focusableItems = childContext.state.items.filter(item => !item.disabled && item.ref.current);\n  function returnFocus() {\n    if (focusReturn.current) {\n      focusReturn.current.focus();\n    }\n  }\n  function handleOpen() {\n    if (menu.current) {\n      focusReturn.current = document.activeElement;\n      const pos = calculatePosition();\n      menu.current.style.left = `${pos[0]}px`;\n      menu.current.style.top = `${pos[1]}px`;\n      setPosition(pos);\n      menu.current.focus();\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n  function handleClose(e) {\n    if (/^key/.test(e.type)) {\n      window.addEventListener('keyup', returnFocus, {\n        once: true\n      });\n    } else if (e.type === 'click' && menu.current) {\n      menu.current.addEventListener('focusout', returnFocus, {\n        once: true\n      });\n    } else {\n      returnFocus();\n    }\n    if (onClose) {\n      onClose();\n    }\n  }\n  function handleKeyDown(e) {\n    e.stopPropagation();\n\n    // if the user presses escape or this is a submenu\n    // and the user presses ArrowLeft, close it\n    if ((match(e, Escape) || !isRoot && match(e, ArrowLeft)) && onClose) {\n      handleClose(e);\n    } else {\n      focusItem(e);\n    }\n  }\n  function focusItem(e) {\n    const currentItem = focusableItems.findIndex(item => item.ref.current.contains(document.activeElement));\n    let indexToFocus = currentItem;\n\n    // if currentItem is -1, no menu item is focused yet.\n    // in this case, the first item should receive focus.\n    if (currentItem === -1) {\n      indexToFocus = 0;\n    } else if (e) {\n      if (match(e, ArrowUp)) {\n        indexToFocus = indexToFocus - 1;\n      }\n      if (match(e, ArrowDown)) {\n        indexToFocus = indexToFocus + 1;\n      }\n    }\n    if (indexToFocus < 0) {\n      indexToFocus = focusableItems.length - 1;\n    }\n    if (indexToFocus >= focusableItems.length) {\n      indexToFocus = 0;\n    }\n    if (indexToFocus !== currentItem) {\n      const nodeToFocus = focusableItems[indexToFocus];\n      nodeToFocus.ref.current.focus();\n    }\n  }\n  function handleBlur(e) {\n    if (open && onClose && isRoot && !menu.current.contains(e.relatedTarget)) {\n      handleClose(e);\n    }\n  }\n  function fitValue(range, axis) {\n    const {\n      width,\n      height\n    } = menu.current.getBoundingClientRect();\n    const alignment = isRoot ? 'vertical' : 'horizontal';\n    const axes = {\n      x: {\n        max: window.innerWidth,\n        size: width,\n        anchor: alignment === 'horizontal' ? range[1] : range[0],\n        reversedAnchor: alignment === 'horizontal' ? range[0] : range[1],\n        offset: 0\n      },\n      y: {\n        max: window.innerHeight,\n        size: height,\n        anchor: alignment === 'horizontal' ? range[0] : range[1],\n        reversedAnchor: alignment === 'horizontal' ? range[1] : range[0],\n        offset: isRoot ? 0 : 4 // top padding in menu, used to align the menu items\n      }\n    };\n\n    const {\n      max,\n      size,\n      anchor,\n      reversedAnchor,\n      offset\n    } = axes[axis];\n\n    // get values for different scenarios, set to false if they don't work\n    const options = [\n    // towards max (preferred)\n    max - spacing - size - anchor >= 0 ? anchor - offset : false,\n    // towards min / reversed (first fallback)\n    reversedAnchor - size >= 0 ? reversedAnchor - size + offset : false,\n    // align at max (second fallback)\n    max - spacing - size];\n    const bestOption = options.find(option => option !== false);\n    return bestOption >= spacing ? bestOption : spacing;\n  }\n  function calculatePosition() {\n    if (menu.current) {\n      const ranges = {\n        x: typeof x === 'object' && x.length === 2 ? x : [x, x],\n        y: typeof y === 'object' && y.length === 2 ? y : [y, y]\n      };\n      return [fitValue(ranges.x, 'x'), fitValue(ranges.y, 'y')];\n    }\n    return [-1, -1];\n  }\n  useEffect(() => {\n    if (open && focusableItems.length > 0) {\n      focusItem();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, focusableItems]);\n  useEffect(() => {\n    if (open) {\n      handleOpen();\n    } else {\n      // reset position when menu is closed in order for the --shown\n      // modifier to be applied correctly\n      setPosition(-1, -1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  const classNames = cx(className, `${prefix}--menu`, `${prefix}--menu--${menuSize}`, {\n    // --open sets visibility and --shown sets opacity.\n    // visibility is needed for focusing elements.\n    // opacity is only set once the position has been set correctly\n    // to avoid a flicker effect when opening.\n    [`${prefix}--menu--open`]: open,\n    [`${prefix}--menu--shown`]: position[0] >= 0 && position[1] >= 0,\n    [`${prefix}--menu--with-icons`]: childContext.state.hasIcons\n  });\n  const rendered = /*#__PURE__*/React__default.createElement(MenuContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React__default.createElement(\"ul\", _extends({}, rest, {\n    className: classNames,\n    role: \"menu\",\n    ref: ref,\n    \"aria-label\": label,\n    tabIndex: -1,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }), children));\n  return isRoot ? open && /*#__PURE__*/createPortal(rendered, target) || null : rendered;\n});\nMenu.propTypes = {\n  /**\n   * A collection of MenuItems to be rendered within this Menu.\n   */\n  children: PropTypes.node,\n  /**\n   * Additional CSS class names.\n   */\n  className: PropTypes.string,\n  /**\n   * A label describing the Menu.\n   */\n  label: PropTypes.string,\n  /**\n   * Provide an optional function to be called when the Menu should be closed.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Provide an optional function to be called when the Menu is opened.\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Whether the Menu is open or not.\n   */\n  open: PropTypes.bool,\n  /**\n   * Specify the size of the Menu.\n   */\n  size: PropTypes.oneOf(['xs', 'sm', 'md', 'lg']),\n  /**\n   * Specify a DOM node where the Menu should be rendered in. Defaults to document.body.\n   */\n  target: PropTypes.object,\n  /**\n   * Specify the x position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([x1, x2])\n   */\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * Specify the y position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([y1, y2])\n   */\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n};\nexport { Menu };","map":{"version":3,"names":["extends","_extends","cx","PropTypes","React__default","useRef","useContext","useReducer","useMemo","useState","useEffect","createPortal","useMergedRefs","usePrefix","MenuContext","menuReducer","match","Escape","ArrowLeft","ArrowUp","ArrowDown","spacing","Menu","forwardRef","_ref","children","className","label","onClose","onOpen","open","size","target","document","body","x","y","rest","prefix","focusReturn","context","isRoot","state","menuSize","childState","childDispatch","requestCloseRoot","handleClose","childContext","dispatch","menu","ref","position","setPosition","focusableItems","items","filter","item","disabled","current","returnFocus","focus","handleOpen","activeElement","pos","calculatePosition","style","left","top","e","test","type","window","addEventListener","once","handleKeyDown","stopPropagation","focusItem","currentItem","findIndex","contains","indexToFocus","length","nodeToFocus","handleBlur","relatedTarget","fitValue","range","axis","width","height","getBoundingClientRect","alignment","axes","max","innerWidth","anchor","reversedAnchor","offset","innerHeight","options","bestOption","find","option","ranges","classNames","hasIcons","rendered","createElement","Provider","value","role","tabIndex","onKeyDown","onBlur","propTypes","node","string","func","bool","oneOf","object","oneOfType","number","arrayOf"],"sources":["/home/saymon/Backup/Portifolio/Hematology-App-with-Carbon-Design-System/frontend/node_modules/@carbon/react/es/components/Menu/Menu.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React__default, { useRef, useContext, useReducer, useMemo, useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useMergedRefs } from '../../internal/useMergedRefs.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport { MenuContext, menuReducer } from './MenuContext.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport { Escape, ArrowLeft, ArrowUp, ArrowDown } from '../../internal/keyboard/keys.js';\n\nconst spacing = 8; // distance to keep to window edges, in px\n\nconst Menu = /*#__PURE__*/React__default.forwardRef(function Menu(_ref, forwardRef) {\n  let {\n    children,\n    className,\n    label,\n    onClose,\n    onOpen,\n    open,\n    size = 'sm',\n    target = document.body,\n    x = 0,\n    y = 0,\n    ...rest\n  } = _ref;\n  const prefix = usePrefix();\n  const focusReturn = useRef(null);\n  const context = useContext(MenuContext);\n  const isRoot = context.state.isRoot;\n  const menuSize = isRoot ? size : context.state.size;\n  const [childState, childDispatch] = useReducer(menuReducer, {\n    ...context.state,\n    isRoot: false,\n    size,\n    requestCloseRoot: isRoot ? handleClose : context.state.requestCloseRoot\n  });\n  const childContext = useMemo(() => {\n    return {\n      state: childState,\n      dispatch: childDispatch\n    };\n  }, [childState, childDispatch]);\n  const menu = useRef();\n  const ref = useMergedRefs([forwardRef, menu]);\n  const [position, setPosition] = useState([-1, -1]);\n  const focusableItems = childContext.state.items.filter(item => !item.disabled && item.ref.current);\n  function returnFocus() {\n    if (focusReturn.current) {\n      focusReturn.current.focus();\n    }\n  }\n  function handleOpen() {\n    if (menu.current) {\n      focusReturn.current = document.activeElement;\n      const pos = calculatePosition();\n      menu.current.style.left = `${pos[0]}px`;\n      menu.current.style.top = `${pos[1]}px`;\n      setPosition(pos);\n      menu.current.focus();\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n  function handleClose(e) {\n    if (/^key/.test(e.type)) {\n      window.addEventListener('keyup', returnFocus, {\n        once: true\n      });\n    } else if (e.type === 'click' && menu.current) {\n      menu.current.addEventListener('focusout', returnFocus, {\n        once: true\n      });\n    } else {\n      returnFocus();\n    }\n    if (onClose) {\n      onClose();\n    }\n  }\n  function handleKeyDown(e) {\n    e.stopPropagation();\n\n    // if the user presses escape or this is a submenu\n    // and the user presses ArrowLeft, close it\n    if ((match(e, Escape) || !isRoot && match(e, ArrowLeft)) && onClose) {\n      handleClose(e);\n    } else {\n      focusItem(e);\n    }\n  }\n  function focusItem(e) {\n    const currentItem = focusableItems.findIndex(item => item.ref.current.contains(document.activeElement));\n    let indexToFocus = currentItem;\n\n    // if currentItem is -1, no menu item is focused yet.\n    // in this case, the first item should receive focus.\n    if (currentItem === -1) {\n      indexToFocus = 0;\n    } else if (e) {\n      if (match(e, ArrowUp)) {\n        indexToFocus = indexToFocus - 1;\n      }\n      if (match(e, ArrowDown)) {\n        indexToFocus = indexToFocus + 1;\n      }\n    }\n    if (indexToFocus < 0) {\n      indexToFocus = focusableItems.length - 1;\n    }\n    if (indexToFocus >= focusableItems.length) {\n      indexToFocus = 0;\n    }\n    if (indexToFocus !== currentItem) {\n      const nodeToFocus = focusableItems[indexToFocus];\n      nodeToFocus.ref.current.focus();\n    }\n  }\n  function handleBlur(e) {\n    if (open && onClose && isRoot && !menu.current.contains(e.relatedTarget)) {\n      handleClose(e);\n    }\n  }\n  function fitValue(range, axis) {\n    const {\n      width,\n      height\n    } = menu.current.getBoundingClientRect();\n    const alignment = isRoot ? 'vertical' : 'horizontal';\n    const axes = {\n      x: {\n        max: window.innerWidth,\n        size: width,\n        anchor: alignment === 'horizontal' ? range[1] : range[0],\n        reversedAnchor: alignment === 'horizontal' ? range[0] : range[1],\n        offset: 0\n      },\n      y: {\n        max: window.innerHeight,\n        size: height,\n        anchor: alignment === 'horizontal' ? range[0] : range[1],\n        reversedAnchor: alignment === 'horizontal' ? range[1] : range[0],\n        offset: isRoot ? 0 : 4 // top padding in menu, used to align the menu items\n      }\n    };\n\n    const {\n      max,\n      size,\n      anchor,\n      reversedAnchor,\n      offset\n    } = axes[axis];\n\n    // get values for different scenarios, set to false if they don't work\n    const options = [\n    // towards max (preferred)\n    max - spacing - size - anchor >= 0 ? anchor - offset : false,\n    // towards min / reversed (first fallback)\n    reversedAnchor - size >= 0 ? reversedAnchor - size + offset : false,\n    // align at max (second fallback)\n    max - spacing - size];\n    const bestOption = options.find(option => option !== false);\n    return bestOption >= spacing ? bestOption : spacing;\n  }\n  function calculatePosition() {\n    if (menu.current) {\n      const ranges = {\n        x: typeof x === 'object' && x.length === 2 ? x : [x, x],\n        y: typeof y === 'object' && y.length === 2 ? y : [y, y]\n      };\n      return [fitValue(ranges.x, 'x'), fitValue(ranges.y, 'y')];\n    }\n    return [-1, -1];\n  }\n  useEffect(() => {\n    if (open && focusableItems.length > 0) {\n      focusItem();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, focusableItems]);\n  useEffect(() => {\n    if (open) {\n      handleOpen();\n    } else {\n      // reset position when menu is closed in order for the --shown\n      // modifier to be applied correctly\n      setPosition(-1, -1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  const classNames = cx(className, `${prefix}--menu`, `${prefix}--menu--${menuSize}`, {\n    // --open sets visibility and --shown sets opacity.\n    // visibility is needed for focusing elements.\n    // opacity is only set once the position has been set correctly\n    // to avoid a flicker effect when opening.\n    [`${prefix}--menu--open`]: open,\n    [`${prefix}--menu--shown`]: position[0] >= 0 && position[1] >= 0,\n    [`${prefix}--menu--with-icons`]: childContext.state.hasIcons\n  });\n  const rendered = /*#__PURE__*/React__default.createElement(MenuContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React__default.createElement(\"ul\", _extends({}, rest, {\n    className: classNames,\n    role: \"menu\",\n    ref: ref,\n    \"aria-label\": label,\n    tabIndex: -1,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }), children));\n  return isRoot ? open && /*#__PURE__*/createPortal(rendered, target) || null : rendered;\n});\nMenu.propTypes = {\n  /**\n   * A collection of MenuItems to be rendered within this Menu.\n   */\n  children: PropTypes.node,\n  /**\n   * Additional CSS class names.\n   */\n  className: PropTypes.string,\n  /**\n   * A label describing the Menu.\n   */\n  label: PropTypes.string,\n  /**\n   * Provide an optional function to be called when the Menu should be closed.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Provide an optional function to be called when the Menu is opened.\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Whether the Menu is open or not.\n   */\n  open: PropTypes.bool,\n  /**\n   * Specify the size of the Menu.\n   */\n  size: PropTypes.oneOf(['xs', 'sm', 'md', 'lg']),\n  /**\n   * Specify a DOM node where the Menu should be rendered in. Defaults to document.body.\n   */\n  target: PropTypes.object,\n  /**\n   * Specify the x position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([x1, x2])\n   */\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * Specify the y position of the Menu. Either pass a single number or an array with two numbers describing your activator's boundaries ([y1, y2])\n   */\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\n};\n\nexport { Menu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}