{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState } from 'react';\n\n/**\n * @typedef {object} useAttachedMenuReturn\n * @property {boolean} open Whether the menu is open or not\n * @property {[number, number]} x The x position of the menu\n * @property {[number, number]} y The y position of the menu\n * @property {Function} handleClick A function to be called when the trigger element receives a click event\n * @property {Function} handleMousedown A function to be called when the trigger element recives a mousedown event\n * @property {Function} handleClose A function to be called when the menu emits onClose\n */\n\n/**\n * This hook contains common code to be used when a menu should be visually attached to an anchor based on a click event.\n *\n * @param {Element|object} anchor The element or ref the menu should visually be attached to.\n * @returns {useAttachedMenuReturn}\n */\nfunction useAttachedMenu(anchor) {\n  const [open, setOpen] = useState(false);\n  const [position, setPosition] = useState([[-1, -1], [-1, -1]]);\n  function openMenu() {\n    const anchorEl = anchor?.current || anchor;\n    if (anchorEl) {\n      const {\n        left,\n        top,\n        right,\n        bottom\n      } = anchorEl.getBoundingClientRect();\n      setPosition([[left, right], [top, bottom]]);\n    }\n    setOpen(true);\n  }\n  function closeMenu() {\n    setOpen(false);\n  }\n  function handleClick() {\n    if (open) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  }\n  function handleMousedown(e) {\n    // prevent default for mousedown on trigger element to avoid\n    // the \"blur\" event from firing on the menu as this would close\n    // it and immediately re-open since \"click\" event is fired after\n    // \"blur\" event.\n    e.preventDefault();\n  }\n  return {\n    open,\n    x: position[0],\n    y: position[1],\n    handleClick,\n    handleMousedown,\n    handleClose: closeMenu\n  };\n}\nexport { useAttachedMenu };","map":{"version":3,"names":["useState","useAttachedMenu","anchor","open","setOpen","position","setPosition","openMenu","anchorEl","current","left","top","right","bottom","getBoundingClientRect","closeMenu","handleClick","handleMousedown","e","preventDefault","x","y","handleClose"],"sources":["/home/saymon/Backup/Portifolio/Hematology-App-with-Carbon-Design-System/frontend/node_modules/@carbon/react/es/internal/useAttachedMenu.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { useState } from 'react';\n\n/**\n * @typedef {object} useAttachedMenuReturn\n * @property {boolean} open Whether the menu is open or not\n * @property {[number, number]} x The x position of the menu\n * @property {[number, number]} y The y position of the menu\n * @property {Function} handleClick A function to be called when the trigger element receives a click event\n * @property {Function} handleMousedown A function to be called when the trigger element recives a mousedown event\n * @property {Function} handleClose A function to be called when the menu emits onClose\n */\n\n/**\n * This hook contains common code to be used when a menu should be visually attached to an anchor based on a click event.\n *\n * @param {Element|object} anchor The element or ref the menu should visually be attached to.\n * @returns {useAttachedMenuReturn}\n */\nfunction useAttachedMenu(anchor) {\n  const [open, setOpen] = useState(false);\n  const [position, setPosition] = useState([[-1, -1], [-1, -1]]);\n  function openMenu() {\n    const anchorEl = anchor?.current || anchor;\n    if (anchorEl) {\n      const {\n        left,\n        top,\n        right,\n        bottom\n      } = anchorEl.getBoundingClientRect();\n      setPosition([[left, right], [top, bottom]]);\n    }\n    setOpen(true);\n  }\n  function closeMenu() {\n    setOpen(false);\n  }\n  function handleClick() {\n    if (open) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  }\n  function handleMousedown(e) {\n    // prevent default for mousedown on trigger element to avoid\n    // the \"blur\" event from firing on the menu as this would close\n    // it and immediately re-open since \"click\" event is fired after\n    // \"blur\" event.\n    e.preventDefault();\n  }\n  return {\n    open,\n    x: position[0],\n    y: position[1],\n    handleClick,\n    handleMousedown,\n    handleClose: closeMenu\n  };\n}\n\nexport { useAttachedMenu };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAQ,QAAQ,OAAO;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,eAAeA,CAACC,MAAM,EAAE;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9D,SAASO,QAAQA,CAAA,EAAG;IAClB,MAAMC,QAAQ,GAAGN,MAAM,EAAEO,OAAO,IAAIP,MAAM;IAC1C,IAAIM,QAAQ,EAAE;MACZ,MAAM;QACJE,IAAI;QACJC,GAAG;QACHC,KAAK;QACLC;MACF,CAAC,GAAGL,QAAQ,CAACM,qBAAqB,CAAC,CAAC;MACpCR,WAAW,CAAC,CAAC,CAACI,IAAI,EAAEE,KAAK,CAAC,EAAE,CAACD,GAAG,EAAEE,MAAM,CAAC,CAAC,CAAC;IAC7C;IACAT,OAAO,CAAC,IAAI,CAAC;EACf;EACA,SAASW,SAASA,CAAA,EAAG;IACnBX,OAAO,CAAC,KAAK,CAAC;EAChB;EACA,SAASY,WAAWA,CAAA,EAAG;IACrB,IAAIb,IAAI,EAAE;MACRY,SAAS,CAAC,CAAC;IACb,CAAC,MAAM;MACLR,QAAQ,CAAC,CAAC;IACZ;EACF;EACA,SAASU,eAAeA,CAACC,CAAC,EAAE;IAC1B;IACA;IACA;IACA;IACAA,CAAC,CAACC,cAAc,CAAC,CAAC;EACpB;EACA,OAAO;IACLhB,IAAI;IACJiB,CAAC,EAAEf,QAAQ,CAAC,CAAC,CAAC;IACdgB,CAAC,EAAEhB,QAAQ,CAAC,CAAC,CAAC;IACdW,WAAW;IACXC,eAAe;IACfK,WAAW,EAAEP;EACf,CAAC;AACH;AAEA,SAASd,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}