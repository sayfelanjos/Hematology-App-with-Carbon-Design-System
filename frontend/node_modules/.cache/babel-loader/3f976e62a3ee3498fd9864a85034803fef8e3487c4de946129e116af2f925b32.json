{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport rangePlugin from 'flatpickr/dist/plugins/rangePlugin';\n\n/**\n * @param {object} config Plugin configuration.\n * @returns {Plugin} An extension of Flatpickr `rangePlugin` that does the following:\n *   * Better ensures the calendar dropdown is always aligned to the `<input>` for the starting date.\n *     Workaround for: https://github.com/flatpickr/flatpickr/issues/1944\n *   * A logic to ensure `fp.setDate()` call won't end up with \"startDate to endDate\" set to the first `<input>`\n */\nvar carbonFlatpickrRangePlugin = function carbonFlatpickrRangePlugin(config) {\n  var factory = rangePlugin(Object.assign({\n    position: 'left'\n  }, config));\n  return function (fp) {\n    var origSetDate = fp.setDate;\n    var init = function init() {\n      fp.setDate = function setDate(dates, triggerChange, format) {\n        origSetDate.call(this, dates, triggerChange, format);\n        // If `triggerChange` is `true`, `onValueUpdate` Flatpickr event is fired\n        // where Flatpickr's range plugin takes care of fixing the first `<input>`\n        if (!triggerChange) {\n          var inputFrom = fp._input;\n          var inputTo = config.input;\n          [inputFrom, inputTo].forEach(function (input, i) {\n            if (input) {\n              input.value = !dates[i] ? '' : fp.formatDate(new Date(dates[i]), fp.config.dateFormat);\n            }\n          });\n        }\n      };\n    };\n    var origRangePlugin = factory(fp);\n    var origOnReady = origRangePlugin.onReady;\n    return Object.assign(origRangePlugin, {\n      onReady: [init, origOnReady],\n      onPreCalendarPosition: function onPreCalendarPosition() {}\n    });\n  };\n};\nexport { carbonFlatpickrRangePlugin as default };","map":{"version":3,"names":["rangePlugin","carbonFlatpickrRangePlugin","config","factory","Object","assign","position","fp","origSetDate","setDate","init","dates","triggerChange","format","call","inputFrom","_input","inputTo","input","forEach","i","value","formatDate","Date","dateFormat","origRangePlugin","origOnReady","onReady","onPreCalendarPosition","default"],"sources":["/home/saymon/Backup/Portifolio/Hematology-App-with-Carbon-Design-System/frontend/node_modules/@carbon/react/es/components/DatePicker/plugins/rangePlugin.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport rangePlugin from 'flatpickr/dist/plugins/rangePlugin';\n\n/**\n * @param {object} config Plugin configuration.\n * @returns {Plugin} An extension of Flatpickr `rangePlugin` that does the following:\n *   * Better ensures the calendar dropdown is always aligned to the `<input>` for the starting date.\n *     Workaround for: https://github.com/flatpickr/flatpickr/issues/1944\n *   * A logic to ensure `fp.setDate()` call won't end up with \"startDate to endDate\" set to the first `<input>`\n */\nvar carbonFlatpickrRangePlugin = (config => {\n  const factory = rangePlugin(Object.assign({\n    position: 'left'\n  }, config));\n  return fp => {\n    const origSetDate = fp.setDate;\n    const init = () => {\n      fp.setDate = function setDate(dates, triggerChange, format) {\n        origSetDate.call(this, dates, triggerChange, format);\n        // If `triggerChange` is `true`, `onValueUpdate` Flatpickr event is fired\n        // where Flatpickr's range plugin takes care of fixing the first `<input>`\n        if (!triggerChange) {\n          const {\n            _input: inputFrom\n          } = fp;\n          const {\n            input: inputTo\n          } = config;\n          [inputFrom, inputTo].forEach((input, i) => {\n            if (input) {\n              input.value = !dates[i] ? '' : fp.formatDate(new Date(dates[i]), fp.config.dateFormat);\n            }\n          });\n        }\n      };\n    };\n    const origRangePlugin = factory(fp);\n    const {\n      onReady: origOnReady\n    } = origRangePlugin;\n    return Object.assign(origRangePlugin, {\n      onReady: [init, origOnReady],\n      onPreCalendarPosition() {}\n    });\n  };\n});\n\nexport { carbonFlatpickrRangePlugin as default };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,WAAW,MAAM,oCAAoC;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,0BAA0B,GAAI,SAA9BA,0BAA0BA,CAAIC,MAAM,EAAI;EAC1C,IAAMC,OAAO,GAAGH,WAAW,CAACI,MAAM,CAACC,MAAM,CAAC;IACxCC,QAAQ,EAAE;EACZ,CAAC,EAAEJ,MAAM,CAAC,CAAC;EACX,OAAO,UAAAK,EAAE,EAAI;IACX,IAAMC,WAAW,GAAGD,EAAE,CAACE,OAAO;IAC9B,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;MACjBH,EAAE,CAACE,OAAO,GAAG,SAASA,OAAOA,CAACE,KAAK,EAAEC,aAAa,EAAEC,MAAM,EAAE;QAC1DL,WAAW,CAACM,IAAI,CAAC,IAAI,EAAEH,KAAK,EAAEC,aAAa,EAAEC,MAAM,CAAC;QACpD;QACA;QACA,IAAI,CAACD,aAAa,EAAE;UAClB,IACUG,SAAS,GACfR,EAAE,CADJS,MAAM;UAER,IACSC,OAAO,GACZf,MAAM,CADRgB,KAAK;UAEP,CAACH,SAAS,EAAEE,OAAO,CAAC,CAACE,OAAO,CAAC,UAACD,KAAK,EAAEE,CAAC,EAAK;YACzC,IAAIF,KAAK,EAAE;cACTA,KAAK,CAACG,KAAK,GAAG,CAACV,KAAK,CAACS,CAAC,CAAC,GAAG,EAAE,GAAGb,EAAE,CAACe,UAAU,CAAC,IAAIC,IAAI,CAACZ,KAAK,CAACS,CAAC,CAAC,CAAC,EAAEb,EAAE,CAACL,MAAM,CAACsB,UAAU,CAAC;YACxF;UACF,CAAC,CAAC;QACJ;MACF,CAAC;IACH,CAAC;IACD,IAAMC,eAAe,GAAGtB,OAAO,CAACI,EAAE,CAAC;IACnC,IACWmB,WAAW,GAClBD,eAAe,CADjBE,OAAO;IAET,OAAOvB,MAAM,CAACC,MAAM,CAACoB,eAAe,EAAE;MACpCE,OAAO,EAAE,CAACjB,IAAI,EAAEgB,WAAW,CAAC;MAC5BE,qBAAqB,WAAAA,sBAAA,EAAG,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC;AACH,CAAE;AAEF,SAAS3B,0BAA0B,IAAI4B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}